FROM hypriot/rpi-alpine

# Install dependencies
RUN apt-get update
RUN apt-get install --no-install-recommends xserver-xorg xinit xserver-xorg-video-fbdev lxde lxde-common lightdm -y

RUN echo "[SeatDefaults]" > /etc/lightdm/lightdm.conf
RUN echo "autologin-user=pi" >> /etc/lightdm/lightdm.conf
RUN echo "autologin-user-timeout=0" >> /etc/lightdm/lightdm.conf

RUN apt-get install git build-essential xorg-dev xutils-dev x11proto-dri2-dev libltdl-dev libtool automake libdrm-dev

RUN apt-get install chromium-browser -y

# Add settings
ADD chromium-settings /etc/chromium-browser/default

ENTRYPOINT [ "/usr/bin/chromium-browser" ]

CMD [ "" ]